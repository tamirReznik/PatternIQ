# PatternIQ Configuration File
# Copy this file to .env and update with your values
# cp .env.example .env

# =============================================================================
# SYSTEM MODE
# =============================================================================

# Demo mode: Uses sample data and limited processing (default: false)
DEMO_MODE=false

# Always-on mode: Continuous operation with API server (default: false)
# Set to true for always-on mode, false for batch mode
PATTERNIQ_ALWAYS_ON=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database URL (PostgreSQL format)
# Default: postgresql://admin:secret@localhost:5432/patterniq
PATTERNIQ_DB_URL=postgresql://admin:secret@localhost:5432/patterniq

# Database mode: auto, sqlite, postgres
# auto: Automatically selects SQLite for batch mode, PostgreSQL for always-on
# sqlite: Force SQLite (file-based, no server required)
# postgres: Force PostgreSQL (requires server)
DB_MODE=auto

# SQLite database path (used when DB_MODE=sqlite or auto in batch mode)
SQLITE_PATH=data/patterniq.db

# Auto-migrate database when switching modes (default: true)
AUTO_MIGRATE=true

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================

# API server host (default: 127.0.0.1)
API_HOST=127.0.0.1

# API server port (default: 8000)
API_PORT=8000

# Start API server (default: false, only starts if always_on=true or explicitly requested)
START_API_SERVER=false

# =============================================================================
# TELEGRAM CONFIGURATION
# =============================================================================

# Telegram bot token (get from @BotFather on Telegram)
TELEGRAM_BOT_TOKEN=

# Telegram chat IDs (comma-separated list of chat IDs)
# Get your chat ID from @userinfobot on Telegram
TELEGRAM_CHAT_IDS=

# Enable Telegram alerts (default: false)
# Set to true to enable daily Telegram notifications
SEND_TELEGRAM_ALERTS=false

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================

# Paper trading mode (default: true)
# Set to false for live trading (not recommended without thorough testing)
PAPER_TRADING=true

# Initial capital for trading bot (default: 100000.0)
INITIAL_CAPITAL=100000.0

# Maximum position size as fraction of portfolio (default: 0.05 = 5%)
MAX_POSITION_SIZE=0.05

# Enable multi-asset trading (stocks, ETFs, crypto) (default: true)
ENABLE_MULTI_ASSET=true

# Leverage multiplier (default: 1.2 = 20% leverage)
# 1.0 = no leverage, 1.2 = 20% leverage, 2.0 = 100% leverage (max)
LEVERAGE_MULTIPLIER=1.2

# =============================================================================
# REPORT CONFIGURATION
# =============================================================================

# Generate reports (default: true)
GENERATE_REPORTS=true

# Report formats: json,html,pdf (comma-separated, default: json,html)
REPORT_FORMATS=json,html

# =============================================================================
# DATA CONFIGURATION
# =============================================================================

# Universe to trade (default: SP500)
# Options: SP500, SECTOR_ETF, CRYPTO_ETF, INTERNATIONAL_ETF, FACTOR_ETF
# Note: Multi-asset mode includes all universes
UNIVERSE=SP500

# Lookback days for historical data (default: 1800 = ~5 years)
LOOKBACK_DAYS=1800

# Demo symbols limit (default: 5, only used in demo mode)
DEMO_SYMBOLS_LIMIT=5

# Process all symbols during data ingestion (default: false)
# Set to true to process all 527 symbols (501 S&P 500 + 26 ETFs)
# Set to false to process only first 5 symbols for demo
PROCESS_ALL_SYMBOLS=false

# =============================================================================
# DATA QUALITY FILTERS
# =============================================================================

# Minimum daily volume in USD (default: 10000000 = $10M)
# Filters out low-volume stocks/ETFs for mid/long-term trading
MIN_DAILY_VOLUME=10000000

# Minimum market cap in USD (default: 1000000000 = $1B)
# Filters out small-cap stocks for better liquidity
MIN_MARKET_CAP=1000000000

# Minimum days listed (default: 90)
# Requires at least 90 days of trading history
MIN_DAYS_LISTED=90

# =============================================================================
# TIME HORIZON STRATEGIES
# =============================================================================

# Enable time horizon strategies (short/mid/long-term) (default: true)
ENABLE_TIME_HORIZONS=true

# Default time horizon: short, mid, or long (default: mid)
DEFAULT_TIME_HORIZON=mid

# =============================================================================
# EXTERNAL API KEYS (Optional - for backup data sources)
# =============================================================================

# Alpha Vantage API key (optional, for backup price data)
# Get from: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=

# Polygon.io API key (optional, for backup price data)
# Get from: https://polygon.io/
POLYGON_API_KEY=

# CryptoCompare API key (optional, for crypto data backup)
# Get from: https://www.cryptocompare.com/
CRYPTOCOMPARE_API_KEY=

# =============================================================================
# NOTES
# =============================================================================
# 
# 1. For batch mode (daily runs):
#    - Set PATTERNIQ_ALWAYS_ON=false
#    - Set START_API_SERVER=false
#    - Set SEND_TELEGRAM_ALERTS=true (if you want Telegram notifications)
#    - Set PROCESS_ALL_SYMBOLS=true (to process all symbols, not just 5)
#
# 2. For always-on mode (continuous operation):
#    - Set PATTERNIQ_ALWAYS_ON=true
#    - Set START_API_SERVER=true
#    - Set PATTERNIQ_DB_URL to your PostgreSQL connection string
#
# 3. For multi-asset trading:
#    - Set ENABLE_MULTI_ASSET=true (default)
#    - Set PROCESS_ALL_SYMBOLS=true (to ingest ETFs and crypto)
#    - The system will automatically trade stocks, sector ETFs, crypto ETFs, etc.
#
# 4. Database selection:
#    - Batch mode (PATTERNIQ_ALWAYS_ON=false): Uses SQLite by default
#    - Always-on mode (PATTERNIQ_ALWAYS_ON=true): Uses PostgreSQL by default
#    - Override with DB_MODE=sqlite or DB_MODE=postgres
#
# 5. Telegram setup:
#    - Create bot: Message @BotFather on Telegram, send /newbot
#    - Get chat ID: Message @userinfobot on Telegram
#    - Set TELEGRAM_BOT_TOKEN and TELEGRAM_CHAT_IDS
#    - Set SEND_TELEGRAM_ALERTS=true
